# ğŸ¯ DIAGRAMA COMPLETO: INTEGRACIÃ“N PLAYWRIGHT MCP EN TODD

## ğŸ“ ARQUITECTURA GENERAL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CAPA DE PRESENTACIÃ“N                           â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚            TestGenerator.tsx (Cliente React)                    â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  â€¢ Usuario ingresa ticket: "QA-2333"                           â”‚ â”‚
â”‚  â”‚  â€¢ Extrae acceptance criteria desde Jira                       â”‚ â”‚
â”‚  â”‚  â€¢ Muestra UI de loading                                       â”‚ â”‚
â”‚  â”‚  â€¢ Renderiza test generado                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ HTTP POST Request
                                â”‚ { acceptanceCriteria: "..." }
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CAPA DE API (Next.js Server)                    â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         /api/playwright-mcp/route.ts                           â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  POST /api/playwright-mcp                                      â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  1. Verificar credenciales                                     â”‚ â”‚
â”‚  â”‚  2. Interpretar acceptance criteria                            â”‚ â”‚
â”‚  â”‚  3. Ejecutar Playwright (si hay credenciales)                  â”‚ â”‚
â”‚  â”‚  4. Generar test                                               â”‚ â”‚
â”‚  â”‚  5. Devolver resultado                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                â”‚                                      â”‚
â”‚                                â”‚ Si success: false                   â”‚
â”‚                                â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         /api/smart-synapse/route.ts (Fallback 1)               â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  POST /api/smart-synapse                                       â”‚ â”‚
â”‚  â”‚  â€¢ AnÃ¡lisis dinÃ¡mico de codebase                               â”‚ â”‚
â”‚  â”‚  â€¢ Sinapsis inteligente con keywords                           â”‚ â”‚
â”‚  â”‚  â€¢ GeneraciÃ³n de mÃ©todos                                       â”‚ â”‚
â”‚  â”‚  â€¢ Test generado                                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                â”‚                                      â”‚
â”‚                                â”‚ Si success: false                   â”‚
â”‚                                â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         /api/generate-test/route.ts (Fallback 2)               â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  POST /api/generate-test                                      â”‚ â”‚
â”‚  â”‚  â€¢ GeneraciÃ³n clÃ¡sica basada en templates                     â”‚ â”‚
â”‚  â”‚  â€¢ Test generado                                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ chromium.launch()
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PROCESO PLAYWRIGHT (Server Node.js)                    â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚        Chromium Browser (Headless)                              â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  â€¢ page.goto('https://cook-unity.com/login')                    â”‚ â”‚
â”‚  â”‚  â€¢ page.fill('email')                                           â”‚ â”‚
â”‚  â”‚  â€¢ page.fill('password')                                        â”‚ â”‚
â”‚  â”‚  â€¢ page.click('submit')                                         â”‚ â”‚
â”‚  â”‚  â€¢ page.waitForURL('/menu')                                     â”‚ â”‚
â”‚  â”‚  â€¢ page.goto(targetURL)                                         â”‚ â”‚
â”‚  â”‚  â€¢ page.$$('[data-testid]') â†’ Observa elementos                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ FLUJO DE EJECUCIÃ“N PASO A PASO

### **ESCENARIO 1: Playwright MCP con Credenciales (Ã‰XITO)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USUARIO       â”‚
â”‚                 â”‚
â”‚ Input: "QA-2333"â”‚
â”‚ Click: Generate â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TestGenerator.tsx              â”‚
â”‚  (Cliente React)                â”‚
â”‚                                 â”‚
â”‚  generateTestFromCriteria()    â”‚
â”‚  â”œâ”€ setLoading(true)            â”‚
â”‚  â””â”€ fetch('/api/playwright-mcp')â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ POST { acceptanceCriteria: "Date Selector Filter Reset" }
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /api/playwright-mcp/route.ts   â”‚
â”‚  (Server Next.js)               â”‚
â”‚                                 â”‚
â”‚  1ï¸âƒ£ Verificar credenciales      â”‚
â”‚     â”œâ”€ hasCredentials = âœ…       â”‚
â”‚     â””â”€ process.env.TEST_EMAIL   â”‚
â”‚        && VALID_LOGIN_PASSWORD  â”‚
â”‚                                 â”‚
â”‚  2ï¸âƒ£ Interpretar acceptance     â”‚
â”‚     â”œâ”€ detectContext()          â”‚
â”‚     â”‚  â””â”€ â†’ 'ordersHub'         â”‚
â”‚     â”œâ”€ extractActions()          â”‚
â”‚     â”‚  â””â”€ â†’ [{ type: 'click',   â”‚
â”‚     â”‚          element: 'dateSelector' }]
â”‚     â”œâ”€ extractAssertions()      â”‚
â”‚     â”‚  â””â”€ â†’ [{ type: 'state',   â”‚
â”‚     â”‚          description: 'Filter reset' }]
â”‚     â””â”€ determineURL()            â”‚
â”‚        â””â”€ â†’ 'https://cook-unity.com/orders-hub'
â”‚                                 â”‚
â”‚  3ï¸âƒ£ Ejecutar Playwright         â”‚
â”‚     â”œâ”€ chromium.launch()         â”‚
â”‚     â”‚  â””â”€ â†’ Browser instance    â”‚
â”‚     â”œâ”€ browser.newContext()     â”‚
â”‚     â”‚  â””â”€ â†’ Context (cookies, storage)
â”‚     â”œâ”€ context.newPage()        â”‚
â”‚     â”‚  â””â”€ â†’ Page object         â”‚
â”‚                                 â”‚
â”‚  4ï¸âƒ£ Login                        â”‚
â”‚     â”œâ”€ page.goto('/login')      â”‚
â”‚     â”œâ”€ page.fill('email')       â”‚
â”‚     â”œâ”€ page.fill('password')    â”‚
â”‚     â”œâ”€ page.click('submit')     â”‚
â”‚     â””â”€ page.waitForURL('/menu') â”‚
â”‚        â””â”€ âœ… Login exitoso      â”‚
â”‚                                 â”‚
â”‚  5ï¸âƒ£ Navegar a URL objetivo      â”‚
â”‚     â”œâ”€ page.goto('orders-hub')  â”‚
â”‚     â””â”€ page.waitForLoadState()  â”‚
â”‚        â””â”€ âœ… NavegaciÃ³n exitosa â”‚
â”‚                                 â”‚
â”‚  6ï¸âƒ£ Observar comportamiento    â”‚
â”‚     â”œâ”€ page.$$('[data-testid]') â”‚
â”‚     â”‚  â””â”€ â†’ Todos los elementos â”‚
â”‚     â”œâ”€ element.isVisible()      â”‚
â”‚     â”‚  â””â”€ â†’ Filtra visibles     â”‚
â”‚     â””â”€ behavior.elements = [...]â”‚
â”‚                                 â”‚
â”‚  7ï¸âƒ£ Generar test               â”‚
â”‚     â”œâ”€ generateTestFromObservations()
â”‚     â”‚  â”œâ”€ Crear tÃ­tulo         â”‚
â”‚     â”‚  â”œâ”€ Determinar tags      â”‚
â”‚     â”‚  â”œâ”€ Agregar GIVEN         â”‚
â”‚     â”‚  â”œâ”€ Agregar WHEN (desde behavior)
â”‚     â”‚  â””â”€ Agregar THEN         â”‚
â”‚     â””â”€ smartTest = "test('QA-...', ..."
â”‚                                 â”‚
â”‚  8ï¸âƒ£ Cerrar navegador           â”‚
â”‚     â””â”€ browser.close()          â”‚
â”‚                                 â”‚
â”‚  9ï¸âƒ£ Devolver respuesta         â”‚
â”‚     â””â”€ return {                 â”‚
â”‚          success: true,         â”‚
â”‚          smartTest: "...",      â”‚
â”‚          mode: 'real'           â”‚
â”‚        }                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Response: { success: true, smartTest: "..." }
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TestGenerator.tsx              â”‚
â”‚                                 â”‚
â”‚  if (mcpData.success) {        â”‚
â”‚    setGeneratedTest({           â”‚
â”‚      content: mcpData.smartTest â”‚
â”‚    })                           â”‚
â”‚    setStep('result')            â”‚
â”‚    return // âœ… Ã‰xito, no hace  â”‚
â”‚           //  fallback          â”‚
â”‚  }                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USUARIO       â”‚
â”‚                 â”‚
â”‚ âœ… Test generadoâ”‚
â”‚    (basado en   â”‚
â”‚    observaciÃ³n  â”‚
â”‚    real)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **ESCENARIO 2: Sin Credenciales (Modo Simulado)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USUARIO       â”‚
â”‚ Input: "QA-2333" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /api/playwright-mcp/route.ts   â”‚
â”‚                                 â”‚
â”‚  1ï¸âƒ£ Verificar credenciales      â”‚
â”‚     â”œâ”€ hasCredentials = âŒ       â”‚
â”‚     â””â”€ No hay TEST_EMAIL        â”‚
â”‚                                 â”‚
â”‚  2ï¸âƒ£ Modo Simulado               â”‚
â”‚     â”œâ”€ interpretAcceptanceCriteria()
â”‚     â”œâ”€ simulateBehavior()       â”‚
â”‚     â”‚  â””â”€ â†’ behavior.interactions = [
â”‚     â”‚          { element: 'dateSelector',
â”‚     â”‚            observed: true,
â”‚     â”‚            simulated: true }]
â”‚     â”œâ”€ generateTestFromObservations()
â”‚     â””â”€ return {                 â”‚
â”‚          success: true,         â”‚
â”‚          smartTest: "...",      â”‚
â”‚          mode: 'simulated'       â”‚
â”‚        }                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Response: { success: true, mode: 'simulated' }
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TestGenerator.tsx              â”‚
â”‚                                 â”‚
â”‚  if (mcpData.success) {        â”‚
â”‚    âœ… Usa resultado              â”‚
â”‚    (igual que antes, pero mÃ¡s   â”‚
â”‚     rÃ¡pido, sin navegar)        â”‚
â”‚  }                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **ESCENARIO 3: Playwright MCP Falla (Fallback)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USUARIO       â”‚
â”‚ Input: "QA-2333" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /api/playwright-mcp/route.ts   â”‚
â”‚                                 â”‚
â”‚  1ï¸âƒ£ Intentar navegaciÃ³n         â”‚
â”‚     â”œâ”€ chromium.launch()        â”‚
â”‚     â”œâ”€ loginToApp()             â”‚
â”‚     â””â”€ âŒ Login falla            â”‚
â”‚        (timeout, credenciales   â”‚
â”‚         incorrectas, etc.)      â”‚
â”‚                                 â”‚
â”‚  2ï¸âƒ£ Manejar error                â”‚
â”‚     â”œâ”€ browser.close()           â”‚
â”‚     â””â”€ return {                 â”‚
â”‚          success: false,        â”‚
â”‚          error: "Login failed", â”‚
â”‚          fallback: true         â”‚
â”‚        }                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Response: { success: false, fallback: true }
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TestGenerator.tsx              â”‚
â”‚                                 â”‚
â”‚  if (mcpData.success) {        â”‚
â”‚    // âŒ No entra aquÃ­           â”‚
â”‚  }                              â”‚
â”‚                                 â”‚
â”‚  // 2. Fallback automÃ¡tico      â”‚
â”‚  const smartResponse = await fetch('/api/smart-synapse')
â”‚  â””â”€ â†’ Llama a Smart Synapse     â”‚
â”‚     â””â”€ â†’ Genera test (como antes)
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— INTEGRACIÃ“N ENTRE COMPONENTES

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DIAGRAMA DE INTEGRACIÃ“N                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER       â”‚
â”‚  (Browser)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Ingresa "QA-2333"
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TestGenerator.tsx                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  fetchJiraIssue()                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET /api/jira?issueKey=QA-2333                     â”‚  â”‚
â”‚  â”‚  â””â”€ â†’ acceptanceCriteria = {                          â”‚  â”‚
â”‚  â”‚         description: "Date Selector Filter Reset"      â”‚  â”‚
â”‚  â”‚       }                                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  generateTestFromCriteria()                            â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  INTENTO 1: Playwright MCP                        â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  fetch('/api/playwright-mcp', {                    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚    body: { acceptanceCriteria }                    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  })                                                â”‚ â”‚  â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  if (mcpData.success) {                     â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    âœ… Usar mcpData.smartTest                 â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    return (no hace fallback)                 â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  }                                           â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  INTENTO 2: Smart Synapse (si MCP falla)          â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  fetch('/api/smart-synapse', {                     â”‚ â”‚  â”‚
â”‚  â”‚  â”‚    body: { acceptanceCriteria }                    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  })                                                â”‚ â”‚  â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  if (smartData.success) {                   â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    âœ… Usar smartData.smartTest               â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    return (no hace fallback final)           â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  }                                           â”‚  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  INTENTO 3: Test Generation ClÃ¡sico               â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  fetch('/api/generate-test', {                    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚    body: { acceptanceCriteria }                   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  })                                               â”‚ â”‚  â”‚
â”‚  â”‚  â”‚                                                    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  if (data.success) {                         â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    âœ… Usar data.generatedTest                â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  }                                           â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ HTTP Request
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /api/playwright-mcp/route.ts                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  POST handler                                           â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Verificar credenciales                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ Si NO hay â†’ Modo simulado                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ Si hay â†’ Playwright real                      â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Modo Real:                                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ chromium.launch()                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ loginToApp()                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ navigateToTargetURL()                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ observeBehavior()                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ generateTestFromObservations()                â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Modo Simulado:                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ interpretAcceptanceCriteria()                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ simulateBehavior()                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ generateTestFromObservations()                â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ chromium.launch()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Chromium Browser (Headless, en Server)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Page Object                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ goto('/login')                                       â”‚ â”‚
â”‚  â”‚  â”œâ”€ fill('email')                                       â”‚ â”‚
â”‚  â”‚  â”œâ”€ fill('password')                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ click('submit')                                    â”‚ â”‚
â”‚  â”‚  â”œâ”€ waitForURL('/menu')                                â”‚ â”‚
â”‚  â”‚  â”œâ”€ goto(targetURL)                                    â”‚ â”‚
â”‚  â”‚  â””â”€ $$('[data-testid]') â†’ Observa elementos            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š COMPONENTES CLAVE Y SUS RESPONSABILIDADES

### **1. TestGenerator.tsx (Cliente)**
- **Responsabilidad:** UI, orquestaciÃ³n de llamadas API
- **FunciÃ³n principal:** `generateTestFromCriteria()`
- **LÃ³gica:** Intentar Playwright MCP â†’ Smart Synapse â†’ Test Generation

### **2. /api/playwright-mcp/route.ts (Server)**
- **Responsabilidad:** Ejecutar navegaciÃ³n real o simulada
- **Funciones clave:**
  - `loginToApp()`: Login en la app
  - `navigateToTargetURL()`: Navegar a URL objetivo
  - `observeBehavior()`: Observar elementos reales
  - `simulateBehavior()`: Simular cuando no hay credenciales
  - `generateTestFromObservations()`: Generar test final

### **3. Chromium Browser (Proceso separado)**
- **Responsabilidad:** Ejecutar navegaciÃ³n real
- **Lugar:** Server Node.js (headless)
- **ComunicaciÃ³n:** VÃ­a Playwright API

---

## ğŸ¯ DECISIÃ“N DE FLUJO (Ãrbol de DecisiÃ³n)

```
                    Â¿Usuario ingresa ticket?
                            â”‚
                            â–¼
                    Â¿Fetch Jira exitoso?
                            â”‚
                            â–¼
                    Â¿Generar test?
                            â”‚
                            â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Â¿Intentar Playwright MCP?    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                               â”‚
              â–¼                               â–¼
    Â¿Hay credenciales?              Â¿Modo simulado?
              â”‚                               â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
      â”‚               â”‚                       â”‚
      â–¼               â–¼                       â–¼
  Login real      Â¿Login OK?            Generar test
      â”‚               â”‚                  (sin navegar)
      â”‚               â”‚                       â”‚
      â”‚         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                â”‚
      â”‚         â”‚           â”‚                â”‚
      â–¼         â–¼           â–¼                â”‚
  Error    Navegar     Â¿NavegaciÃ³n OK?       â”‚
      â”‚         â”‚           â”‚                â”‚
      â”‚         â”‚      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”          â”‚
      â”‚         â”‚      â”‚         â”‚          â”‚
      â”‚         â”‚      â–¼         â–¼          â”‚
      â”‚         â”‚   Observar  Error        â”‚
      â”‚         â”‚      â”‚         â”‚         â”‚
      â”‚         â”‚      â–¼         â”‚         â”‚
      â”‚         â”‚  Generar test  â”‚         â”‚
      â”‚         â”‚      â”‚         â”‚         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
              â”‚                            â”‚
              â”‚                            â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    Â¿success: true?
                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                        â”‚
              â–¼                        â–¼
    âœ… Mostrar test           Â¿Fallback a Smart
    generado                      Synapse?
                                        â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚                        â”‚
                           â–¼                        â–¼
                  âœ… Mostrar test           Â¿Fallback a Test
                  generado (Smart            Generation?
                  Synapse)                        â”‚
                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                                          â”‚                â”‚
                                          â–¼                â–¼
                                    âœ… Test generado   âŒ Error
```

---

## ğŸ¯ RESUMEN EJECUTIVO

**Playwright MCP estÃ¡ integrado en TODD de la siguiente manera:**

1. **Prioridad 1:** Playwright MCP (intenta navegaciÃ³n real)
2. **Prioridad 2:** Smart Synapse (anÃ¡lisis inteligente sin navegaciÃ³n)
3. **Prioridad 3:** Test Generation (mÃ©todo clÃ¡sico)

**Si Playwright MCP funciona:** Genera test desde observaciÃ³n real â†’ Test mÃ¡s preciso
**Si Playwright MCP falla:** Fallback automÃ¡tico â†’ Usuario siempre recibe test generado

**El usuario NO nota diferencias en la UI**, solo en la calidad del test generado. ğŸš€âœ¨
